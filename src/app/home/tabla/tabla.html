<p-toolbar class="mb-6 flex justify-between items-center bg-gray-100 p-4 rounded shadow">
    <ng-template #start></ng-template>
    <ng-template #end class="flex gap-2">
        <p-button label="Exportar Excel" icon="pi pi-upload" severity="secondary" (onClick)="exportToExcel()"
            size="small" />
        <p-button label="Exportar PDF" icon="pi pi-upload" severity="secondary" (onClick)="exportToPDF()"
            size="small" />
    </ng-template>
</p-toolbar>

<div class="overflow-auto">
    <p-table #dt [value]="articulos" [rows]="5" [columns]="cols" [paginator]="true" [rowHover]="true" dataKey="id"
        currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} artículos"
        [showCurrentPageReport]="true" [rowsPerPageOptions]="[5, 10, 25, 50]" [loading]="cargando"
        [globalFilterFields]="['nombre', 'clave']" [scrollable]="true">

        <ng-template #caption>
            <div class="flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-0">
                <h5 class="m-0">Gestión de Artículos</h5>
                <div class="relative w-full sm:w-auto">
                    <p-iconfield>
                        <p-inputicon class="pi pi-search" />
                        <input pInputText type="text" pSize="small" [(ngModel)]="articulo"
                            (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Buscar..." />
                    </p-iconfield>
                </div>
            </div>
        </ng-template>

        <ng-template #header>
            <tr>
                <th pSortableColumn="clave">
                    <div class="flex justify-center items-center gap-2">
                        Código Artículo
                        <p-sortIcon field="clave" />
                    </div>
                </th>
                <th pSortableColumn="nombre">
                    <div class="flex justify-start items-center gap-2">
                        Nombre
                        <p-sortIcon field="nombre" />
                    </div>
                </th>
                <th>
                    <div class="inline-flex justify-start items-center gap-2">
                        Opciones
                    </div>
                </th>
            </tr>
        </ng-template>

        <ng-template #body let-articulo>
            <tr>
                <td class="text-center">{{articulo.clave}}</td>
                <td class="text-left">{{articulo.nombre}}</td>
                <td>
                    <div class="inline-flex justify-end gap-2 flex-wrap">
                        <p-button icon="pi pi-pencil" [rounded]="true" [outlined]="true" size="small"
                            (click)="editarArticulo(articulo)" />
                        <p-button icon="pi pi-trash" severity="danger" [rounded]="true" [outlined]="true" size="small"
                            (click)="eliminarArticulo(articulo)" />
                    </div>
                </td>
            </tr>
        </ng-template>

        <ng-template #emptymessage>
            <tr>
                <td colspan="3">No se encontraron artículos</td>
            </tr>
        </ng-template>

    </p-table>
</div>